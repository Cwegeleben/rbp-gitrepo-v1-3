# Project Status — August 19, 2025

## What we’ve accomplished

**Stable App Proxy core**
- All proxy endpoints 200; centralized `paths.server.ts` adopted; JSON responses with no-store; consistent error handling.

**Catalog v1 + Search v1**
- `/catalog/collections`, `/catalog/products`, `/catalog/search` read via a shared `readCatalogJson(cfgDir)` helper.
- Minimal UI module renders collections, product lists, and a debounced search.

**Builds v1**
- Prisma v6 config (`prisma.config.ts`), models & migrations in place.
- API: GET/POST `/builds`, GET/PATCH/DELETE `/builds/:id`.
- UI: “Active Build” selector, Add-to-Build from catalog/search, Builds Panel v1 (rename, qty ±, remove, live count).

**Checkout Packager v1**
- `/checkout/package` (GET/POST) normalizes items; returns 200 even for empty builds.
- Produces cartPath when variant IDs are available; UI shows Package Build, Go to Cart, Copy JSON.

**Tooling & CI**
- Curl packs for catalog/builds/packager; dynamic-port handling + optional local `scripts/port.env`.
- GitHub Action runs curl packs on every PR, auto-detects dev port, surfaces logs on failure.

## What’s left (to reach a crisp MVP)

**Variant mapping**
- Add a few variantIds to `catalog.json` (or a resolver) so packager produces real `/cart/...` links reliably.

**Tenancy & auth hardening**
- Replace demo tenant with real shop scoping from App Proxy / Access ctx; optional ownerKey per user.
- Verify App Proxy HMAC and tighten headers/CSP.

**DX & reliability**
- Make curl packager step always pass buildId from the create step (avoid flaky 400s).
- Seed data script for local dev (sample catalog + demo build).
- Structured logging and simple error banner in UI (no crashes).

**Catalog/Search polish (v2)**
- Pagination & basic filters (vendor, price band, tag).
- Lightweight ranking tweak (title > vendor > other fields).

**Builds UX polish**
- Duplicate build, reorder items, bulk add/remove, export/import (JSON).

**Tests & CI**
- Add route-level unit tests (shape + headers).
- E2E happy-path (create→add→package).
- Run curl packs on a small Node matrix (e.g., 18 & 20).

## Definition of “MVP done”
- Search catalog → create/select a build → add items → edit quantities → package to cart link → CI green on PRs, no unhandled console errors.
